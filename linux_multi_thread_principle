多线程原则：第一准确性，第二优化性能
bug：违反原子性(atomicity)
bug: 违反执行顺序(ordering)

执行模型
形象例子，双手代表两个线程，食指到小拇指4个指头分别为顺序执行的4条指令。单手必须食指到小指，但两手8指头却可以任意交错。

一 原子性
不可被其他线程任意分割的操作。
解决方案：1.变量隔离，本线程局部变量。  2.变量属性定义为只读。immutable  3.同步变量读写，利用锁。

二 执行顺序
1 读-写 脏读
2 写-写 
解决方案：1.加锁同步 2.条件检测 3.调整代码执行顺序 4.重新设计数据结构/算法
